<!--trigger new1 28 nov 2025   idee chinees koekje voor nieuwjaar onthoud! -->

<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Glunder Evening ‚Äî Countdown & Poster</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --olive:#3f5a2f;
    --olive-deep:#324623;
    --gold:#ffd766;
    --beige:#f7efe0;
    --accent:#e6b46a;
    --card-bg: rgba(255,255,255,0.88);
  }
  html,body{height:100%;margin:0;font-family:'Cormorant Garamond',serif;background: radial-gradient(circle at 12% 12%, #fcf8ee 0%, #efe2c9 36%, #e6cfab 100%); color:#1b1b19;}
  .page {min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px;box-sizing:border-box;}

  .poster {
    width:min(1100px, 96%);
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(250,245,235,0.95));
    border-radius:18px;padding:28px;box-shadow: 0 18px 40px rgba(30,30,30,0.18);
    display:grid;grid-template-columns: 1fr 400px;gap:22px;align-items:start;position:relative;overflow:hidden;
  }

  /* Gloss & subtle stars */
  .gloss {position:absolute; inset:0; pointer-events:none; background-image:
    radial-gradient(circle at 18% 26%, rgba(255,244,200,0.06) 0 2px, transparent 3px),
    radial-gradient(circle at 80% 62%, rgba(255,230,180,0.05) 0 3px, transparent 4px);
    mix-blend-mode: screen;
  }

  .left {padding:20px;}
  .timer-card {
    background: linear-gradient(180deg, var(--olive) 0%, var(--olive-deep) 100%);
    border-radius:14px;padding:28px;color:var(--gold);text-align:center;
    box-shadow: 0 8px 24px rgba(50,50,20,0.35), inset 0 -6px 18px rgba(255,215,130,0.03);
    position:relative;
  }
  #countdown {font-family:'Playfair Display',serif;font-size:clamp(36px,7vw,96px);line-height:1;letter-spacing:0.02em;text-shadow:0 0 18px rgba(255,238,180,0.45);margin:0 0 10px 0;}
  .small-label {color: rgba(255,250,230,0.9);font-size:14px;margin-bottom:6px;}

  .after {display:none;color:var(--gold);}
  .after h1 {font-family:'Playfair Display',serif;font-style:italic;font-weight:700;margin:0;font-size:clamp(28px,6vw,72px);text-shadow:0 0 18px rgba(255,245,200,0.5);}
  .after .sub {margin-top:12px;font-style:italic;color:#fff8dc;font-size:clamp(14px,2.2vw,20px);line-height:1.2;}

  .right {padding:20px;display:flex;flex-direction:column;gap:18px;align-items:stretch;}
  .panel {background:var(--card-bg);border-radius:12px;padding:14px;box-shadow: 0 6px 16px rgba(10,10,10,0.06);}

  .horoscope {display:flex;gap:12px;align-items:center;}
  .sign-badge {width:78px;height:78px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#1b1b19;background: linear-gradient(180deg,#d8e7c8,#eaf4d8);border:2px solid rgba(0,0,0,0.06);box-shadow: 0 6px 12px rgba(50,50,30,0.06);font-size:14px;text-transform:uppercase;}
  .horoscope-text {flex:1;text-align:left;}
  .horoscope-text h3 {margin:0;font-size:18px;color:#24321b;}
  .horoscope-text p {margin:6px 0 0 0;color:#3a3a2f;font-size:15px;}

  .controls {display:flex;gap:8px;margin-top:10px;flex-wrap:wrap;}
  .btn {background:var(--gold); color:#2b2416; border:none;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:700;box-shadow: 0 6px 10px rgba(200,150,60,0.12);}

  .game-area {display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center;min-height:150px;}

  .memory-grid {display:grid;grid-template-columns: repeat(4, 1fr); gap:8px; width:100%;}
  .card {background: linear-gradient(180deg,#0f2a2a 0%, #123333 100%);border-radius:8px;padding:12px;height:72px;display:flex;align-items:center;justify-content:center;color:var(--gold);font-size:20px;cursor:pointer;user-select:none;box-shadow: 0 6px 10px rgba(0,0,0,0.25);}
  .card.revealed {background: linear-gradient(180deg,#e9f7ee,#dff2e4); color:#12331a;}
  .card.matched {opacity:0.35; transform:scale(0.98); cursor:default;}

  .puzzle-board {width:300px;height:300px;display:grid;grid-template-columns:repeat(3,1fr);gap:4px;}
  .tile {background-size: 300px 300px;background-position:center;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;box-shadow: inset 0 -8px 18px rgba(0,0,0,0.2);}
  .tile.empty {background:transparent;cursor:default;box-shadow:none}

  .sudoku-grid {display:grid;grid-template-columns: repeat(9, 1fr); gap:6px; width:100%; max-width:420px;}
  .sudoku-cell {background:#fff;border-radius:6px;padding:6px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;color:#222;box-shadow: 0 4px 8px rgba(0,0,0,0.06);}
  .sudoku-cell input{width:100%;height:100%;border:0;text-align:center;font-size:18px;background:transparent;outline:none}
  .sudoku-cell.prefilled {background:#f3f6ed;color:#1b2b18}
  .sudoku-controls {display:flex;gap:8px;justify-content:center;margin-top:8px;}

  .footer-note {font-size:12px;color:#4b4b40;opacity:0.9;margin-top:8px;text-align:center}

  @media(max-width:980px){ .poster {grid-template-columns:1fr; padding:18px;} .right {order:3} .sign-badge {width:60px;height:60px;font-size:12px} }
</style>
</head>
<body>
<div class="page">
  <div class="poster" role="main" aria-label="Glunder Evening poster">
    <div class="gloss" aria-hidden="true"></div>

    <!-- LEFT -->
    <div class="left">
      <div class="timer-card" aria-live="polite">
        <div class="small-label" id="timeLabel">Countdown naar 28 nov 19:30</div>
        <div id="countdown" aria-atomic="true">laden‚Ä¶</div>

        <div class="after" id="afterBlock" role="status" aria-hidden="true">
          <h1>Vandaag is het eindelijk zover!</h1>
          <div class="sub">
            <div>Vandaag weer samen</div>
            <div>Vandaag dichtbij, Glunder üßúüèª‚Äç‚ôÄÔ∏è‚ú®</div>
          </div>
        </div>
      </div>

      <div style="height:16px;"></div>

      <div class="panel" style="margin-top:14px;">
        <div class="horoscope">
          <div class="sign-badge" id="signBadge">Ram</div>
          <div class="horoscope-text">
            <h3 id="signName">Ram</h3>
            <p id="signQuote">Je quote verschijnt hier‚Ä¶</p>
          </div>
        </div>

        <div class="controls">
          <button class="btn" id="prevSign">‚Üê Vorige</button>
          <button class="btn" id="nextSign">Volgende ‚Üí</button>
          <button class="btn" id="randomSign">Willekeurig</button>
        </div>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="right">
      <div class="panel game-area" aria-label="Spel-sectie">
        <div style="font-weight:700;color:#2d2d2a">Speeltje</div>
        <div id="gameArea" style="width:100%;display:flex;flex-direction:column;align-items:center;gap:12px;min-height:160px;justify-content:center"></div>

        <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:6px;">
          <button class="btn" id="prevGame">‚Üê Vorig spel</button>
          <button class="btn" id="nextGame">Volgend spel ‚Üí</button>
          <button class="btn" id="shuffleGame">Shuffle spel</button>
        </div>

        <div class="footer-note">Kies, speel even, en glunder ‚ú®</div>
      </div>

      <div class="panel" style="text-align:center;">
        <div style="font-weight:700;margin-bottom:6px">Een warme groet</div>
        <div style="color:#55534a">Een kleine poster voor een bijzondere avond ‚Äî veel plezier en succes met glunderen.</div>
      </div>
    </div>
  </div>
</div>

<script>
/* -----------------------------
   Countdown
------------------------------*/
const target = new Date('2025-11-28T19:30:00+01:00').getTime();
const countdownEl = document.getElementById('countdown');
const afterBlock = document.getElementById('afterBlock');
const timeLabel = document.getElementById('timeLabel');

function updateCountdown(){
  const now = Date.now();
  const diff = target - now;
  if (diff > 0){
    const days = Math.floor(diff/(1000*60*60*24));
    countdownEl.textContent = days + (days===1 ? ' nacht' : ' nachtjes');
    countdownEl.style.display='block'; afterBlock.style.display='none';
    timeLabel.textContent = 'Countdown naar 28 nov 19:30';
  } else {
    countdownEl.style.display='none'; afterBlock.style.display='block'; timeLabel.textContent='Vandaag!';
    clearInterval(cntInterval);
  }
}
updateCountdown();
const cntInterval = setInterval(updateCountdown, 1000);

/* -----------------------------
   Horoscopes: 12 signs x 8 unique quotes
   (mix: speels, po√´tisch, mystiek) - no duplicates between signs
------------------------------*/
const horoscopes = [
  {sign:"Ram", color:"#d6e9c9", quotes:[
    "Je hart klopt sneller van verwachting.",
    "Je durft ‚Äî en dat maakt het spannend mooi.",
    "Een kleine daad zet een avond in beweging.",
    "Je glimlach nodigt iemand dichterbij.",
    "Vandaag straal je met zachte overgave.",
    "Laat je energie zachtjes de kamer vullen.",
    "Iemand merkt je warmte op zonder woorden.",
    "Durf te glunderen ‚Äî het past je goed."
  ]},
  {sign:"Stier", color:"#e7edd6", quotes:[
    "Comfort en smaak maken dit moment kostbaar.",
    "Een rustige aanwezigheid geeft diepe rust.",
    "Geniet van de tastbare details om je heen.",
    "Vandaag voelt nabijheid als een cadeau.",
    "Subtiele aanraking zegt meer dan menig woord.",
    "Laat je zintuigen rustig de weg wijzen.",
    "Een bekend lied roept zachte herinnering op.",
    "Eenvoudige luxe kleedt jouw momenten."
  ]},
  {sign:"Tweelingen", color:"#d9efd9", quotes:[
    "Je praatjes openen kleine werelden van plezier.",
    "Humor maakt een kamer lichter en zachter.",
    "Een nieuwsgierige vraag start een hartelijk gesprek.",
    "Je woorden dansen licht in de lucht.",
    "Verrassing in taal brengt een glimlach.",
    "Laat je geest speels de avond kleuren.",
    "Korte gesprekken kunnen diepe connecties brengen.",
    "Je charme werkt als een zachte uitnodiging."
  ]},
  {sign:"Kreeft", color:"#e7e6d7", quotes:[
    "Zachtheid en aandacht scheppen een thuisgevoel.",
    "Een warme blik zegt wat woorden niet hoeven.",
    "Koester kleine momenten van echte verbinding.",
    "Je zorgzame aard opent stil gedeelde ruimte.",
    "Herinneringen vinden vanavond een zachte plek.",
    "Je aanwezigheid voelt als een geruststellende omhelzing.",
    "Laat tederheid de avond verlichten.",
    "Intimiteit groeit in kleine, stille gebaren."
  ]},
  {sign:"Leeuw", color:"#efe7c8", quotes:[
    "Je helderheid trekt bewondering zonder moeite.",
    "Vandaag zal je lach de kamer doen oplichten.",
    "Stralend en zacht ‚Äî je bent onmiskenbaar aanwezig.",
    "Een compliment weerkaatst jouw warme energie.",
    "Je durft te schitteren op een elegante manier.",
    "Grootsheid met tederheid is jouw stijl vandaag.",
    "Laat je hart spreken ‚Äî het klinkt als muziek.",
    "Een klein applausje kan onverwacht veel betekenen."
  ]},
  {sign:"Maagd", color:"#eef3e0", quotes:[
    "Oog voor detail maakt kleine magie zichtbaar.",
    "Je zorgvuldigheid tovert orde tot rust.",
    "Subtiele perfecties geven de avond inhoud.",
    "Je praktische aanraking voelt als blijk van zorg.",
    "Nette aandacht cre√´ert warme herinnering.",
    "Stilheid met zorg kan veel liefde zeggen.",
    "Je precisie vertaalt zich in elegante momenten.",
    "Een kleine handeling oogst grote waardering."
  ]},
  {sign:"Weegschaal", color:"#dfe7d2", quotes:[
    "Schoonheid en evenwicht dansen langs je heen.",
    "Een charmante opmerking opent zachte ogen.",
    "Balans brengt ruimte voor oprechte gesprekken.",
    "Je elegantie nodigt mensen uit dichtbij te komen.",
    "Rust en stijl maken vanavond memorabel.",
    "Zachte humor weeft fijne herinneringen in de tijd.",
    "Jouw eenvoud ademt een bijzondere allure.",
    "Harmonie kleurt de avond in goudtinten."
  ]},
  {sign:"Schorpioen", color:"#e9e5d8", quotes:[
    "Intensiteit en zachtheid vinden elkaar bij jou.",
    "Een scherpe blik kan heel veel zeggen vandaag.",
    "Laat je diepgang zachtjes naar buiten stromen.",
    "Intieme aandacht schept onvergetelijke momenten.",
    "Een geheim gebaar heeft grote betekenis vanavond.",
    "Diepe gevoelens vertalen zich in warme daden.",
    "Laat je hart spreken ‚Äî in stilte of in woord.",
    "Passie met tederheid maakt alles eerbiedig."
  ]},
  {sign:"Boogschutter", color:"#e8efd9", quotes:[
    "Avontuurlijke vonken maken de avond licht.",
    "Een onbevangen lach opent onverwachte deuren.",
    "Nieuwsgierigheid leidt tot warme verrassingen.",
    "Speelsheid nodigt anderen uit te delen.",
    "Durf te stappen; mooie herinneringen wachten.",
    "Recht door zee met een glimlach wint harten.",
    "Laat enthousiasme zacht de ruimte vullen.",
    "Een lichte grap breekt het ijs in goud."
  ]},
  {sign:"Steenbok", color:"#e6e3d6", quotes:[
    "Stabiel en attent ‚Äî jouw houding raakt anderen.",
    "Doorzettingsvermogen krijgt een zachte glans vanavond.",
    "Doordachte woorden geven houvast en nabijheid.",
    "Je inzet cre√´ert waardevolle momenten.",
    "Een rustige daad blijkt groter dan verwacht.",
    "Consistentie voelt als een warm anker voor anderen.",
    "Je vastberadenheid toont zich als zorg en stijl.",
    "Met bedachtzaamheid bouw je intieme ruimte."
  ]},
  {sign:"Waterman", color:"#e9f0e7", quotes:[
    "Je verrassende blik cre√´ert nieuwe mogelijkheden.",
    "Vernieuwend en vriendelijk ‚Äî een aanstekelijke mix.",
    "Durf uniek te zijn; anderen volgen je graag.",
    "Een origineel idee kan het gesprek verrijken.",
    "Jouw visie nodigt uit tot open gesprekken.",
    "Creatieve vonken kleuren de avond met plezier.",
    "Anders zijn voelt vandaag als een zachte kracht.",
    "Vreemde wendingen leiden soms tot warme momenten."
  ]},
  {sign:"Vissen", color:"#edf6e9", quotes:[
    "Zacht en dromerig ‚Äî je brengt rust in het nu.",
    "Een intu√Øtieve beweging verbindt twee zielen.",
    "Dromen en realiteit vinden vanavond elkaar.",
    "Laat je verbeelding leiden naar warme herinneringen.",
    "Een kleine fantasie wordt tastbare zachtheid.",
    "Je empathie maakt nabijheid veilig en rijk.",
    "Mildheid en diepte vormen een stille belofte.",
    "Eenvoudige dromen worden vanavond kostbaar."
  ]}
];

let signIndex = 0;
const signBadge = document.getElementById('signBadge');
const signName = document.getElementById('signName');
const signQuoteEl = document.getElementById('signQuote');

function showSign(idx){
  signIndex = (idx + horoscopes.length) % horoscopes.length;
  const obj = horoscopes[signIndex];
  const now = new Date();
  const daySeed = now.getFullYear()*10000 + (now.getMonth()+1)*100 + now.getDate();
  const quoteIdx = (daySeed + signIndex) % obj.quotes.length;
  signBadge.textContent = obj.sign;
  signBadge.style.background = `linear-gradient(180deg, ${obj.color}, #fff7e6)`;
  signName.textContent = obj.sign;
  signQuoteEl.textContent = obj.quotes[quoteIdx];
}
showSign(0);
document.getElementById('nextSign').addEventListener('click', ()=> showSign(signIndex+1));
document.getElementById('prevSign').addEventListener('click', ()=> showSign(signIndex-1));
document.getElementById('randomSign').addEventListener('click', ()=> showSign(Math.floor(Math.random()*horoscopes.length)));

/* -----------------------------
   GAMES: memory / sliding puzzle / sudoku 9x9
   Mix art: nebula/stars + gold accents + olive tones
------------------------------*/
const gameArea = document.getElementById('gameArea');
const games = ['memory','puzzle','sudoku'];
let currentGame = 0;
document.getElementById('nextGame').addEventListener('click', ()=> setGame(currentGame+1));
document.getElementById('prevGame').addEventListener('click', ()=> setGame(currentGame-1));
document.getElementById('shuffleGame').addEventListener('click', ()=> initCurrentGame());

function setGame(i){ currentGame = ((i % games.length) + games.length) % games.length; initCurrentGame(); }
function initCurrentGame(){ const name = games[currentGame]; gameArea.innerHTML=''; if (name==='memory') initMemory(); else if (name==='puzzle') initPuzzle(); else if (name==='sudoku') initSudoku(); }

/* SVG asset mix (nebula + gold + olive winter) */
const svgStar = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g1' x1='0' x2='1'><stop offset='0' stop-color='#fff6b8'/><stop offset='1' stop-color='#ffd766'/></linearGradient></defs><rect width='100' height='100' rx='12' fill='url(#g1)'/><g fill='#233b2a' transform='translate(10,10)'><path d='M40 4l10 24 26 2-20 16 6 26-24-12-24 12 6-26L4 30l26-2z'/></g></svg>`);
const svgPlanet = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><radialGradient id='p1' cx='30%' cy='30%'><stop offset='0' stop-color='#fff2c9'/><stop offset='1' stop-color='#ffd28a'/></radialGradient></defs><rect width='100' height='100' rx='12' fill='#f6f5ee'/><g transform='translate(10,10)'><ellipse cx='40' cy='40' rx='26' ry='20' fill='url(#p1)' stroke='#3b5236' stroke-width='2'/><path d='M4 70c8-8 26-10 36-10s30 2 36 10' stroke='#cfa56a' stroke-width='3' fill='none' /></g></svg>`);
const svgNebula = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 300'><rect width='300' height='300' fill='#07101a'/><g fill-opacity='0.95'><circle cx='60' cy='80' r='12' fill='#ffd766'/><circle cx='230' cy='50' r='8' fill='#fff9e2'/><circle cx='190' cy='220' r='10' fill='#ffe6b3'/><circle cx='60' cy='220' r='6' fill='#fff8d0'/></g></svg>`);

/* ---------------- MEMORY ---------------- */
function initMemory(){
  const wrapper = document.createElement('div'); wrapper.style.width='100%';
  const grid = document.createElement('div'); grid.className='memory-grid';
  const pairSvgs = [
    {id:'star', uri: svgStar},
    {id:'planet', uri: svgPlanet},
    {id:'nebula', uri: svgNebula},
    {id:'comet', uri: svgStar}
  ];
  let deck = []; pairSvgs.forEach(p=>{ deck.push(p); deck.push(p); });
  deck = deck.sort(()=>Math.random()-0.5);

  let first=null, second=null, lock=false, matches=0;
  deck.forEach((cardObj, idx)=>{
    const c = document.createElement('div'); c.className='card'; c.setAttribute('data-key', cardObj.id);
    c.addEventListener('click', ()=>{
      if(lock || c.classList.contains('revealed') || c.classList.contains('matched')) return;
      reveal(c, cardObj);
      if(!first) first={el:c,key:cardObj.id};
      else if(!second){
        second={el:c,key:cardObj.id};
        if(first.key===second.key){
          first.el.classList.add('matched'); second.el.classList.add('matched'); matches++; first=null; second=null;
          if(matches===pairSvgs.length){
            const done=document.createElement('div'); done.textContent='üéâ Gefeliciteerd ‚Äî match compleet!'; done.style.marginTop='8px'; done.style.fontWeight=700; wrapper.appendChild(done);
          }
        } else {
          lock=true; setTimeout(()=>{ hideCard(first.el); hideCard(second.el); first=null; second=null; lock=false; },900);
        }
      }
    });
    grid.appendChild(c);
  });
  wrapper.appendChild(grid);
  const info = document.createElement('div'); info.style.fontSize='13px'; info.style.color='#3b3b36'; info.style.marginTop='8px';
  info.textContent='Memory ‚Äî zoek de paren met winterse sterren & gouden accenten.';
  wrapper.appendChild(info);
  gameArea.appendChild(wrapper);

  function reveal(el, cardObj){
    el.classList.add('revealed');
    const img = document.createElement('div'); img.style.width='100%'; img.style.height='100%'; img.style.display='flex'; img.style.alignItems='center'; img.style.justifyContent='center';
    img.innerHTML = `<img src="data:image/svg+xml;utf8,${cardObj.uri}" style="width:88%;height:88%;object-fit:contain;border-radius:6px">`;
    el.innerHTML=''; el.appendChild(img);
  }
  function hideCard(el){ el.classList.remove('revealed'); el.innerHTML=''; }
}

/* ---------------- SLIDING PUZZLE 3x3 ---------------- */
function initPuzzle(){
  const wrapper = document.createElement('div');
  const board = document.createElement('div'); board.className='puzzle-board';
  const size = 3; const total = size*size;
  const imgUrl = `data:image/svg+xml;utf8,${svgNebula}`;
  let tiles = Array.from({length:total}, (_,i)=>i);
  function shuffleTiles(){ do { tiles = tiles.sort(()=>Math.random()-0.5); } while(!isSolvable(tiles)); if(tiles[tiles.length-1]!==total-1){ const idx=tiles.indexOf(total-1); tiles.splice(idx,1); tiles.push(total-1); } }
  function isSolvable(arr){ const a=arr.filter(v=>v!==total-1); let inv=0; for(let i=0;i<a.length;i++) for(let j=i+1;j<a.length;j++) if(a[i]>a[j]) inv++; return inv%2===0; }
  shuffleTiles();
  function render(){ board.innerHTML=''; for(let i=0;i<total;i++){ const v=tiles[i]; const tile=document.createElement('div'); if(v===total-1){ tile.className='tile empty'; } else { tile.className='tile'; const col=v%size, row=Math.floor(v/size); const bgW=300, bgH=300; const posX = - (col*(bgW/size)), posY = - (row*(bgH/size)); tile.style.backgroundImage = `url("${imgUrl}")`; tile.style.backgroundPosition = `${posX}px ${posY}px`; tile.style.backgroundSize = `${bgW}px ${bgH}px`; } tile.addEventListener('click', ()=> tryMove(i)); board.appendChild(tile);} }
  function tryMove(index){ const emptyIdx = tiles.indexOf(total-1); const r1=Math.floor(index/size), c1=index%size; const r2=Math.floor(emptyIdx/size), c2=emptyIdx%size; const manhattan = Math.abs(r1-r2)+Math.abs(c1-c2); if(manhattan===1){ [tiles[index], tiles[emptyIdx]]=[tiles[emptyIdx], tiles[index]]; render(); if(isSolved()){ const done=document.createElement('div'); done.textContent='‚ú® Puzzel compleet! ‚ú®'; done.style.marginTop='10px'; done.style.fontWeight=700; wrapper.appendChild(done); } } }
  function isSolved(){ for(let i=0;i<total;i++) if(tiles[i]!==i) return false; return true; }
  render(); wrapper.appendChild(board);
  const hint = document.createElement('div'); hint.style.fontSize='13px'; hint.style.color='#3b3b36'; hint.style.marginTop='8px'; hint.textContent='Schuifpuzzel ‚Äî klik op een stuk naast de lege plek.'; wrapper.appendChild(hint);
  const controls = document.createElement('div'); controls.style.display='flex'; controls.style.gap='8px'; controls.style.marginTop='8px';
  const btnShuffle = document.createElement('button'); btnShuffle.className='btn'; btnShuffle.textContent='Schud'; btnShuffle.addEventListener('click', ()=>{ shuffleTiles(); render(); });
  controls.appendChild(btnShuffle); wrapper.appendChild(controls); gameArea.appendChild(wrapper);
}

/* ---------------- 9x9 SUDOKU ----------------
   - generator (backtracking) creates full solution
   - puzzle created by removing cells (not guaranteeing uniqueness but for casual play)
   - UI: inputs for empty cells, Check, Hint, New puzzle
------------------------------------------------*/
function initSudoku(){
  const wrapper = document.createElement('div'); wrapper.style.width='100%'; wrapper.style.display='flex'; wrapper.style.flexDirection='column'; wrapper.style.alignItems='center';
  const title = document.createElement('div'); title.textContent='Sudoku (9√ó9) ‚Äî vul de lege vakjes'; title.style.fontWeight='700'; wrapper.appendChild(title);

  const N = 9;
  const box = 3;
  // create empty grid
  let solution = Array.from({length:N}, ()=>Array(N).fill(0));

  function isSafe(grid, r, c, val){
    for(let i=0;i<N;i++) if(grid[r][i]===val) return false;
    for(let i=0;i<N;i++) if(grid[i][c]===val) return false;
    const startR = r - (r % box), startC = c - (c % box);
    for(let i=0;i<box;i++) for(let j=0;j<box;j++) if(grid[startR+i][startC+j]===val) return false;
    return true;
  }

  // backtracking fill
  function fillGrid(grid){
    for(let r=0;r<N;r++){
      for(let c=0;c<N;c++){
        if(grid[r][c]===0){
          const nums = [1,2,3,4,5,6,7,8,9].sort(()=>Math.random()-0.5);
          for(const v of nums){
            if(isSafe(grid,r,c,v)){
              grid[r][c]=v;
              if(fillGrid(grid)) return true;
              grid[r][c]=0;
            }
          }
          return false;
        }
      }
    }
    return true;
  }

  fillGrid(solution);

  // Make puzzle by removing cells (leave clues count)
  function makePuzzle(sol, clues=30){
    let puzzle = sol.map(r=>r.slice());
    const cells = [];
    for(let r=0;r<N;r++) for(let c=0;c<N;c++) cells.push([r,c]);
    cells.sort(()=>Math.random()-0.5);
    let removed=0;
    for(const [r,c] of cells){
      if ((N*N - removed) <= clues) break;
      const backup = puzzle[r][c]; puzzle[r][c]=0; removed++;
      // For speed we skip uniqueness check; casual puzzles are fine here
    }
    return puzzle;
  }

  let puzzle = makePuzzle(solution, 30);

  // render grid
  const gridEl = document.createElement('div'); gridEl.className='sudoku-grid'; gridEl.style.marginTop='8px';
  const cellsEls = [];
  for(let r=0;r<N;r++){
    for(let c=0;c<N;c++){
      const wrap = document.createElement('div'); wrap.className='sudoku-cell';
      const val = puzzle[r][c];
      if(val!==0){ wrap.classList.add('prefilled'); wrap.textContent = val; }
      else {
        const input = document.createElement('input'); input.type='number'; input.min=1; input.max=9; input.setAttribute('inputmode','numeric');
        // prevent invalid key presses
        input.addEventListener('input', ()=> { if(input.value) input.value = input.value.replace(/[^1-9]/g,'').slice(0,1); });
        wrap.appendChild(input);
      }
      gridEl.appendChild(wrap); cellsEls.push(wrap);
    }
  }
  wrapper.appendChild(gridEl);

  // controls
  const ctrls = document.createElement('div'); ctrls.className='sudoku-controls';
  const btnCheck = document.createElement('button'); btnCheck.className='btn'; btnCheck.textContent='Controleer';
  const btnHint = document.createElement('button'); btnHint.className='btn'; btnHint.textContent='Hint';
  const btnNew = document.createElement('button'); btnNew.className='btn'; btnNew.textContent='Nieuw';
  const status = document.createElement('div'); status.style.marginTop='8px'; status.style.fontWeight='700';

  btnCheck.addEventListener('click', ()=>{
    let correct=true; let allFilled=true;
    for(let r=0;r<N;r++){
      for(let c=0;c<N;c++){
        const idx = r*N + c; const cell = cellsEls[idx];
        if (puzzle[r][c] !== 0){
          if (solution[r][c] !== puzzle[r][c]) correct=false;
        } else {
          const inp = cell.querySelector('input'); const v = inp.value ? Number(inp.value) : 0;
          if (!v) { allFilled=false; correct=false; cell.style.background='#fff2f2'; }
          else if (v !== solution[r][c]) { correct=false; cell.style.background='#fff2f2'; }
          else { cell.style.background='#e9f7ee'; }
        }
      }
    }
    if (correct && allFilled) { status.textContent = 'üéâ Compleet en correct!'; status.style.color='#1b6e3a'; }
    else if (!allFilled) { status.textContent = 'Vul alle vakken in (of gebruik een hint).'; status.style.color='#6b3b3b'; }
    else { status.textContent = 'Er staan nog fouten ‚Äî zoek ze even.'; status.style.color='#6b3b3b'; }
  });

  btnHint.addEventListener('click', ()=>{
    const empties=[];
    for(let r=0;r<N;r++) for(let c=0;c<N;c++) if (puzzle[r][c]===0){
      const idx = r*N+c; const cell = cellsEls[idx]; const inp = cell.querySelector('input');
      if (inp && (!inp.value || inp.value==='')) empties.push({r,c,idx});
    }
    if (empties.length===0){ status.textContent='Geen lege vakken meer voor hint.'; return; }
    const pick = empties[Math.floor(Math.random()*empties.length)]; const idx=pick.idx; const cell=cellsEls[idx]; const inp=cell.querySelector('input');
    inp.value = solution[pick.r][pick.c]; cell.style.background='#e9f7ee'; status.textContent='Hint geplaatst.';
  });

  btnNew.addEventListener('click', ()=>{
    // regenerate full solution & puzzle
    solution = Array.from({length:N}, ()=>Array(N).fill(0));
    fillGrid(solution);
    puzzle = makePuzzle(solution, 28 + Math.floor(Math.random()*8));
    // re-render cells
    for(let r=0;r<N;r++){
      for(let c=0;c<N;c++){
        const idx = r*N+c; const cell = cellsEls[idx]; cell.innerHTML=''; cell.classList.remove('prefilled'); cell.style.background='';
        if (puzzle[r][c] !== 0){ cell.classList.add('prefilled'); cell.textContent = puzzle[r][c]; }
        else { const input = document.createElement('input'); input.type='number'; input.min=1; input.max=9; input.setAttribute('inputmode','numeric'); input.addEventListener('input', ()=> { if(input.value) input.value = input.value.replace(/[^1-9]/g,'').slice(0,1);}); cell.appendChild(input);}
      }
    }
    status.textContent='Nieuwe sudoku gegeneerd.';
  });

  ctrls.appendChild(btnCheck); ctrls.appendChild(btnHint); ctrls.appendChild(btnNew);
  wrapper.appendChild(ctrls); wrapper.appendChild(status);
  gameArea.appendChild(wrapper);
}

/* init first game */
initCurrentGame();

/* auto-rotate games every 35s */
let autoRotate = setInterval(()=> setGame(currentGame+1), 35000);
['nextGame','prevGame','shuffleGame','gameArea'].forEach(id=>{
  document.getElementById(id)?.addEventListener?.('click', ()=> {
    clearInterval(autoRotate);
    setTimeout(()=> { autoRotate = setInterval(()=> setGame(currentGame+1), 35000); }, 60000);
  });
});

/* Keyboard shortcuts */
document.addEventListener('keydown', (e)=>{
  if (e.key === 'ArrowRight') { setGame(currentGame+1); }
  if (e.key === 'ArrowLeft') { setGame(currentGame-1); }
  if (e.key === 'ArrowUp') { showSign(signIndex-1); }
  if (e.key === 'ArrowDown') { showSign(signIndex+1); }
});
</script>
</body>
</html>
