<!--trigger 8-->

<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>De Gazette der Geduldigen ‚Äî Pamflet</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Spectral:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --achtergrond: #8b5e3c;
  --papier: #f5e5d0;
  --inkt: #0d1b2a;
  --muted: #3d3d3d;
  --accent: #e07b39;
  --horoscope-color: #0d1b2a;
  --shadow: rgba(0,0,0,0.15);
}

*{box-sizing:border-box}
body{
  margin:0;
  background: var(--achtergrond);
  font-family: Spectral, Georgia, serif;
  display:flex;
  justify-content:center;
  padding:20px;
  color: var(--inkt);
}

.pamflet{
  width:100%;
  max-width:720px;
  background: var(--papier);
  border-radius:10px;
  box-shadow:0 8px 20px var(--shadow);
  overflow:hidden;
  padding:20px;
  position:relative;
  min-height:100vh;
}

header{text-align:center;margin-bottom:20px;}
.masthead{
  font-family:'Playfair Display', serif;
  font-size:36px;
  font-weight:900;
  color: var(--inkt);
  letter-spacing:1px;
  margin-bottom:6px;
  cursor:pointer;
}
.meta{font-size:14px;color:var(--muted);}
.meta span{margin-right:10px;}

.main-headline{text-align:center;font-size:28px;font-weight:800;margin:20px 0;color: var(--inkt);}
.subhead{text-align:center;color:var(--muted);margin-bottom:20px;}

.photo-frame{
  background:linear-gradient(180deg,#fdf0e2,#f5e5d0);
  border-radius:8px;
  padding:20px;
  text-align:center;
  margin-bottom:20px;
}
.big-number{
  font-family:'Playfair Display', serif;
  font-size:120px;
  font-weight:900;
  color: var(--accent);
}
.photo-caption{margin-top:12px;color:var(--muted);font-weight:600;font-size:14px;}

.tear-stack{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:20px 0;}
.tear{
  padding:12px 16px;
  background: #f7e9d7;
  border-left:6px solid var(--accent);
  border-radius:4px;
  font-weight:700;
  box-shadow:0 4px 12px var(--shadow);
  color: var(--inkt);
}
.tear.dim{opacity:0.3;}

.panels{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;margin-bottom:20px;}
.panel{
  flex:1 1 220px;
  background:#fff3e0;
  border-radius:8px;
  padding:16px;
  box-shadow:0 4px 12px var(--shadow);
  color: var(--inkt);
}
.panel h4{margin-top:0;margin-bottom:10px;font-size:18px;color:var(--accent);}
.panel p{margin:0;color:var(--muted);font-size:14px;line-height:1.4;}

.weather .temp{font-size:32px;font-weight:800;color:var(--accent);}
.weather .meta{font-size:13px;color:var(--muted);margin-top:4px;}

.horoscope-slider {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-top: 10px;
}
.horoscope-card {
  min-width: 200px;
  max-width: 250px;
  padding: 12px 16px;
  border-radius: 8px;
  background:#f7e9d7;
  color: var(--inkt);
  box-shadow:0 4px 12px var(--shadow);
  text-align:center;
}
.horoscope-card .sign {
  font-size:24px;
  font-weight:800;
  margin-bottom:8px;
  color: var(--horoscope-color);
}
.horoscope-card .text {
  font-size:14px;
  color: var(--muted);
}
.arrow {
  background: var(--accent);
  color: #fff;
  border:none;
  border-radius:6px;
  padding:6px 10px;
  cursor:pointer;
  font-size:16px;
}
.arrow:hover {opacity:0.85;}

footer{text-align:center;font-size:12px;color:var(--muted);margin-top:20px;}
button.btn{
  margin-top:12px;
  padding:10px 16px;
  border:none;
  border-radius:6px;
  background:var(--accent);
  color:#fff;
  font-weight:700;
  cursor:pointer;
  transition:0.2s;
}
button.btn:hover{opacity:0.85;}

.confetti {
  position: fixed;
  font-size: 18px;
  pointer-events: none;
  z-index: 9999;
  animation-name: fall;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
}
@keyframes fall {
  0% { transform: translate(0,0) rotate(0deg);}
  100% { transform: translate(var(--x), 100vh) rotate(360deg);}
}

@media (max-width:600px){
  .big-number{font-size:80px;}
  .main-headline{font-size:22px;}
  .panels{flex-direction:column;}
  .horoscope-card{min-width:160px; max-width:180px;}
}
</style>
</head>
<body>
<div class="pamflet">

<header>
  <div class="masthead" id="masthead">DE GAZETTE DER GEDULDIGEN</div>
  <div class="meta">
    <span id="metaDate">Vrijdag 24 oktober 2025</span>
    <span>| Jaargang I ‚Äî Nr. 7</span>
    <span>| Prijs: √©√©n glimlach</span>
  </div>
</header>

<div class="main-headline" id="mainHeadline">NOG MAAR <span id="headlineNumber">‚Äî</span> NACHTJES ü™ê</div>
<div class="subhead" id="subhead">De Gazette telt af tot de volgende planeto√Øde‚Ä¶ ü™ê‚Ä¢ü™ê‚Ä¢ü™ê</div>

<div class="photo-frame">
  <div class="big-number" id="bigNumber">‚Äî</div>
  <div class="photo-caption" id="photoCaption">Nog te slapen nachtjes</div>
</div>

<div class="tear-stack" id="tearStack"></div>

<div class="panels">
  <div class="panel weather" id="weatherBlock">
    <h4>Weer in Amersfoort üìç</h4>
    <div class="temp" id="temp">15¬∞C</div>
    <div class="meta" id="weatherMeta">üå§ Bewolkt</div>
  </div>

  <div class="panel horoscope-panel">
    <h4>Horoscoop ‚Äì Relaties</h4>
    <div class="horoscope-slider">
      <button class="arrow left" id="prevHoroscope">‚óÄ</button>
      <div class="horoscope-card" id="horoscopeCard">
        <div class="sign" id="horoscopeSign">‚ôà Ram</div>
        <div class="text" id="horoscopeText">Vandaag voel je je sterker dan de afgelopen dagen.</div>
      </div>
      <button class="arrow right" id="nextHoroscope">‚ñ∂</button>
    </div>
  </div>

  <div class="panel">
    <h4>Dagelijkse portie verwondering</h4>
    <p id="fact">Laat je vandaag inspireren door de kleine wonderen om je heen.</p>
  </div>
</div>

<button class="btn" id="forceTear">Scheur vandaag</button>

<footer>Dubbelklik op de kop om de lokale aftelknop te verversen.</footer>
</div>

<script>
/* ====== Config ====== */
const SHOW_AT_08 = new Date('2025-10-24T08:00:00+02:00');
const LS_LAST_OPEN = 'gazette_last_open';
const LS_TEARED = 'gazette_teared';
const el = id => document.getElementById(id);
const now = () => new Date();
const WEER_TEMPLATE = {temp: 15, summary:'Bewolkt üå•'};

/* ====== Dagelijkse portie verwondering ====== */
const dailyWonder = {
  '2025-10-24':'De kleinste glimlach kan iemands dag veranderen.',
  '2025-10-25':'Nieuwe idee√´n bloeien op onverwachte momenten.',
  '2025-10-26':'Kijk eens omhoog en bewonder de lucht vandaag.',
  '2025-10-27':'Een vriendelijk woord kan wonderen doen.',
  '2025-10-28':'De natuur herinnert ons aan geduld en schoonheid.'
};

/* ====== Aftel-logica ====== */
function keyForDay(d){ return `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`; }
function nightsRemaining(nowDate){ 
  const target = new Date(SHOW_AT_08.getFullYear(), SHOW_AT_08.getMonth(), SHOW_AT_08.getDate(), 0,0,0);
  const diffMs = target - nowDate;
  return Math.max(0, Math.ceil(diffMs / (1000*60*60*24)));
}
function renderTears(remaining){
  const stack=el('tearStack'); stack.innerHTML='';
  const toShow=Math.min(8, Math.max(remaining,0));
  const tornCount=parseInt(localStorage.getItem(LS_TEARED)||'0',10);
  for(let i=0;i<toShow;i++){
    const div=document.createElement('div'); div.className='tear';
    const dayNum=remaining-i; div.textContent=dayNum>1?`${dayNum} nachtjes`:dayNum===1?'1 nachtje':'Vandaag';
    if(i<tornCount) div.classList.add('dim'); stack.appendChild(div);
  }
}

/* ====== Horoscopen ====== */
const horoscopes=['‚ôà Ram','‚ôâ Stier','‚ôä Tweelingen','‚ôã Kreeft','‚ôå Leeuw','‚ôç Maagd','‚ôé Weegschaal','‚ôè Schorpioen','‚ôê Boogschutter','‚ôë Steenbok','‚ôí Waterman','‚ôì Vissen'];
const todayKey = new Date().toISOString().split('T')[0];
const dailyHoroscopes = {
  '2025-10-24':{'‚ôà Ram':'Vandaag voel je je hart sneller kloppen, wees open.','‚ôâ Stier':'Communicatie brengt vandaag harmonie.','‚ôä Tweelingen':'Een verrassing kan de dag opfleuren.','‚ôã Kreeft':'Wees lief voor jezelf en je geliefden.','‚ôå Leeuw':'Durf je gevoelens te tonen.','‚ôç Maagd':'Kleine attenties hebben impact.','‚ôé Weegschaal':'Samen lachen versterkt de band.','‚ôè Schorpioen':'Intense emoties vragen om begrip.','‚ôê Boogschutter':'Stap naar liefde brengt geluk.','‚ôë Steenbok':'Stabiliteit geeft rust.','‚ôí Waterman':'Een onverwachte ontmoeting maakt blij.','‚ôì Vissen':'Luister naar intu√Øtie in de liefde.'}
};
let currentIndex=0;
function showHoroscope(index){
  const sign=horoscopes[index];
  el('horoscopeSign').textContent=sign;
  const text=(dailyHoroscopes[todayKey]&&dailyHoroscopes[todayKey][sign])||'Vandaag is een dag vol mogelijkheden in de liefde.';
  el('horoscopeText').textContent=text;
}
document.getElementById('prevHoroscope').addEventListener('click',()=>{currentIndex=(currentIndex-1+horoscopes.length)%horoscopes.length;showHoroscope(currentIndex);});
document.getElementById('nextHoroscope').addEventListener('click',()=>{currentIndex=(currentIndex+1)%horoscopes.length;showHoroscope(currentIndex);});
showHoroscope(currentIndex);

/* ====== Render weer ====== */
function renderStaticWeather(){ el('temp').textContent=`${WEER_TEMPLATE.temp}¬∞C`; el('weatherMeta').textContent=WEER_TEMPLATE.summary; }

/* ====== Confetti ====== */
function launchConfetti(){
  const colors=['#e07b39','#f9c74f','#90be6d','#f94144','#577590'];
  for(let i=0;i<120;i++){
    const conf=document.createElement('div');
    conf.className='confetti';
    conf.textContent='üéâ';
    conf.style.color=colors[Math.floor(Math.random()*colors.length)];
    conf.style.left='10px';
    conf.style.top='10px';
    const xOffset = Math.random()*400;
    const rotate = Math.random()*360;
    const duration = 2+Math.random()*2;
    conf.style.setProperty('--x', xOffset+'px');
    conf.style.animationDuration = duration+'s';
    conf.style.transform = `rotate(${rotate}deg)`;
    document.body.appendChild(conf);
    setTimeout(()=>conf.remove(), (duration*1000)+500);
  }
}

/* ====== Refresh function ====== */
function refresh(){
  const t=now();
  el('metaDate').textContent=new Intl.DateTimeFormat('nl-NL',{weekday:'long',year:'numeric',month:'long',day:'numeric'}).format(t);
  const rem = nightsRemaining(t);
  if(rem>0){
    el('headlineNumber').textContent = rem;
    el('bigNumber').textContent = rem;
    el('photoCaption').textContent = rem===1?'Nog 1 nachtje':`Nog maar ${rem} nachtjes`;
  } else {
    el('headlineNumber').textContent = '';
    el('bigNumber').textContent = 'Het is eindelijk zover! üéâ';
    el('photoCaption').textContent = 'Vandaag breekt het moment aan!';
    launchConfetti();
  }
  renderTears(rem);

  el('fact').textContent = dailyWonder[keyForDay(t)] || 'Laat je vandaag inspireren door de kleine wonderen om je heen.';

  const key=keyForDay(t); 
  if(localStorage.getItem(LS_LAST_OPEN)!==key){
    const torn=parseInt(localStorage.getItem(LS_TEARED)||'0',10)+1;
    localStorage.setItem(LS_TEARED,String(torn));
    localStorage.setItem(LS_LAST_OPEN,key);
  }
}

/* Manual tear */
el('forceTear').addEventListener('click',()=>{
  const torn=parseInt(localStorage.getItem(LS_TEARED)||'0',10)+1;
  localStorage.setItem(LS_TEARED,String(torn));
  refresh();
});

/* Kop dubbelklik = reset timer */
el('masthead').addEventListener('dblclick',()=>{
  if(confirm('Reset lokale aftel-opslag?')){
    localStorage.removeItem(LS_TEARED);
    localStorage.removeItem(LS_LAST_OPEN);
    refresh();
  }
});

renderStaticWeather();
refresh();
setInterval(refresh,1000);
</script>
</body>
</html>
