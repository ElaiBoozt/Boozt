<!--trigger new2 28 nov 2025   idee chinees koekje voor nieuwjaar onthoud! -->

<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Glunder Evening ‚Äî Countdown & Poster</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --olive:#122d20;         /* donkerder olijfgroen achtergrond */
    --olive-panel:#263e2a;   /* timervak diep olijf */
    --gold:#ffd766;
    --beige:#f7efe0;
    --card-bg: rgba(255,255,255,0.92);
    --accent:#e6b46a;
  }

  html,body{height:100%;margin:0;font-family:'Cormorant Garamond',serif;background: linear-gradient(180deg,#072018 0%, #0f2d25 45%, #122d20 100%); color:var(--beige);}
  .page {min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px;box-sizing:border-box;}

  /* Poster layout */
  .poster {
    width:min(1100px,96%);
    background: linear-gradient(180deg, rgba(10,20,14,0.45), rgba(255,255,255,0.03));
    border-radius:16px;
    padding:22px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:20px;
    position:relative;
    overflow:hidden;
    border: 1px solid rgba(255,215,130,0.06);
  }

  /* decorative gold frame echoes the poster you provided */
  .frame-decoration {
    position:absolute; inset:12px; border-radius:12px; pointer-events:none;
    box-shadow: 0 0 0 2px rgba(255,215,130,0.03) inset, 0 0 0 1px rgba(255,215,130,0.01);
  }

  /* Left large area */
  .left {padding:18px; display:flex;flex-direction:column; gap:18px;}

  /* Timer card: uses the uploaded moon image as background and places the number inside */
  .timer-card {
    background: radial-gradient(circle at 25% 20%, rgba(255,245,200,0.02), transparent 10%), linear-gradient(180deg,var(--olive-panel), #183924);
    border-radius:14px;
    padding:28px;
    color:var(--gold);
    text-align:center;
    box-shadow: 0 14px 36px rgba(0,0,0,0.6), inset 0 -8px 24px rgba(255,215,130,0.03);
    position:relative;
    min-height:220px;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
  }
  .moon {
    width:220px;
    height:220px;
    border-radius:50%;
    background-image: url("/mnt/data/ChatGPT Image 22 nov 2025, 07_13_26.png");
    background-size: cover;
    background-position: center;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow: 0 6px 24px rgba(0,0,0,0.6), 0 0 24px rgba(255,220,120,0.06) inset;
    position:relative;
  }
  .moon .num {
    font-family: 'Playfair Display', serif;
    font-size: clamp(48px, 8vw, 96px);
    color: rgba(12,40,25,1);
    text-shadow: 0 0 6px rgba(255,240,200,0.35);
    font-weight:700;
    transform: translateY(-4px);
  }
  .moon .label {
    position:absolute;
    bottom:8px;
    width:100%;
    text-align:center;
    color: rgba(255,250,230,0.9);
    font-size:14px;
    letter-spacing:0.06em;
  }
  .time-caption { color: var(--beige); font-size:14px; margin-top:12px; }

  /* After-count display (replaces the moon when time passed) */
  .after { display:none; text-align:center; }
  .after h1 { font-family:'Playfair Display',serif; color:var(--gold); font-size:clamp(30px,6vw,64px); margin:0; font-style:italic; text-shadow:0 0 18px rgba(255,240,180,0.4);}
  .after p { margin:8px 0 0 0; color: #fff2d3; font-style:italic; }

  /* Horoscope panel */
  .panel {
    background: var(--card-bg);
    border-radius:12px;
    padding:14px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    color:#222;
  }
  .horoscope { display:flex; gap:12px; align-items:center; }
  .sign-badge {
    width:78px; height:78px; border-radius:12px; display:flex;flex-direction:column;align-items:center;justify-content:center;
    font-weight:700;color:#122d20; background: linear-gradient(180deg,#f1f6ea,#eef8e8);
    border: 2px solid rgba(35,60,40,0.08);
    box-shadow: 0 8px 18px rgba(30,30,30,0.06);
  }
  .sign-symbol { font-size:20px; line-height:1; }
  .sign-name { margin-top:6px; font-size:12px; color:#1b3b28; text-transform:uppercase; font-weight:700; letter-spacing:0.06em; }
  .horoscope-text h3 { margin:0; font-size:18px; color:#24321b; }
  .horoscope-text p { margin:6px 0 0; color:#333; font-size:15px; }

  .controls { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }

  /* Right column */
  .right { padding:18px; display:flex; flex-direction:column; gap:18px; }

  .game-area { display:flex; flex-direction:column; gap:12px; align-items:center; justify-content:center; min-height:180px; }

  .btn { background:var(--gold); color:#2b2416; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:700; box-shadow:0 6px 10px rgba(200,150,60,0.12); }

  /* Memory grid */
  .memory-grid { display:grid; grid-template-columns: repeat(4, 1fr); gap:8px; width:100%; }
  .card { background: linear-gradient(180deg,#eaf7f0,#f8fff8); border-radius:10px; padding:6px; height:80px; display:flex; align-items:center; justify-content:center; color:#122d20; font-size:18px; cursor:pointer; box-shadow: 0 6px 10px rgba(0,0,0,0.12); }
  .card.revealed { background:#fffbe8; }
  .card.matched { opacity:0.45; transform:scale(0.98); cursor:default; }

  /* Puzzle tiles */
  .puzzle-board { width:300px; height:300px; display:grid; grid-template-columns:repeat(3,1fr); gap:6px; }
  .tile { border-radius:8px; background-size: 300px 300px; background-position:center; display:flex;align-items:center;justify-content:center; cursor:pointer; box-shadow: inset 0 -8px 18px rgba(0,0,0,0.08); color:#fff; font-weight:700; }

  /* Sudoku 6x6 */
  .sudoku-grid { display:grid; grid-template-columns: repeat(6, 1fr); gap:6px; width:100%; max-width:420px; position:relative; padding:10px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:10px; }
  .sudoku-grid::before, .sudoku-grid::after {
    content:''; position:absolute; background:rgba(20,20,18,0.28);
  }
  /* vertical center line (between col 3 and 4) */
  .sudoku-grid::before { width:3px; height:100%; left:50%; top:0; transform:translateX(-1.5px); border-radius:2px; }
  /* horizontal center line (between row 3 and 4) */
  .sudoku-grid::after { height:3px; width:100%; top:50%; left:0; transform:translateY(-1.5px); border-radius:2px; }

  .sudoku-cell { background:#fff; border-radius:6px; padding:6px; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:18px; color:#122d20; box-shadow: 0 4px 8px rgba(0,0,0,0.06); }
  .sudoku-cell.prefilled { background:#f3f6ed; color:#1b2b18; }
  .sudoku-cell input { width:100%; height:100%; text-align:center; border:0; outline:none; font-size:18px; background:transparent; }

  .sudoku-controls { display:flex; gap:8px; justify-content:center; margin-top:8px; }

  /* responsive */
  @media(max-width:980px){
    .poster { grid-template-columns: 1fr; padding:14px; }
    .right { order:3; }
    .moon { width:170px; height:170px; }
  }
</style>
</head>
<body>
<div class="page">
  <div class="poster" role="main" aria-label="Glunder Evening poster">
    <div class="frame-decoration" aria-hidden="true"></div>

    <!-- LEFT -->
    <div class="left">
      <div class="timer-card" aria-live="polite">
        <div class="small-label" id="timeLabel">Countdown naar 28 nov 19:30</div>

        <!-- moon with number inside (image you uploaded used as background) -->
        <div class="moon" aria-hidden="false" role="img" aria-label="Maan met aantal nachtjes">
          <div class="num" id="moonNumber">‚Ä¶</div>
          <div class="label" id="moonLabel">nachtjes</div>
        </div>

        <!-- after block shown after countdown -->
        <div class="after" id="afterBlock" role="status" aria-hidden="true">
          <h1>Vandaag is het eindelijk zover!</h1>
          <p>Vandaag weer samen</p>
          <p>Vandaag dichtbij, Glunder üßúüèª‚Äç‚ôÄÔ∏è‚ú®</p>
        </div>

        <div class="time-caption">Amsterdam ‚Äî 28 november 19:30</div>
      </div>

      <!-- Horoscope panel -->
      <div class="panel" style="margin-top:12px;">
        <div class="horoscope">
          <div class="sign-badge" id="signBadge">
            <div class="sign-symbol" id="signSymbol">‚ôà</div>
            <div class="sign-name" id="signShort">Ram</div>
          </div>

          <div class="horoscope-text">
            <h3 id="signName">Ram</h3>
            <p id="signQuote">Je quote verschijnt hier‚Ä¶</p>
          </div>
        </div>

        <div class="controls" style="margin-top:12px;">
          <button class="btn" id="prevSign">‚Üê Vorige</button>
          <button class="btn" id="nextSign">Volgende ‚Üí</button>
          <button class="btn" id="randomSign">Willekeurig</button>
        </div>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="right">
      <div class="panel game-area" aria-label="Spel-sectie">
        <div style="font-weight:700;color:#e6b46a">Speeltje</div>
        <div id="gameArea" style="width:100%;display:flex;flex-direction:column;align-items:center;gap:12px;min-height:160px;justify-content:center"></div>

        <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:6px;">
          <button class="btn" id="prevGame">‚Üê Vorig spel</button>
          <button class="btn" id="nextGame">Volgend spel ‚Üí</button>
          <button class="btn" id="shuffleGame">Shuffle spel</button>
        </div>

        <div class="footer-note" style="margin-top:8px">Kies, speel even, en glunder ‚ú®</div>
      </div>

      <!-- removed the "warme groet" panel as requested -->

    </div>
  </div>
</div>

<script>
/* -----------------------------
   Countdown: days until 28 Nov 2025 19:30 Amsterdam
------------------------------*/
const target = new Date('2025-11-28T19:30:00+01:00').getTime();
const moonNumber = document.getElementById('moonNumber');
const moonLabel = document.getElementById('moonLabel');
const afterBlock = document.getElementById('afterBlock');
const countdownLabel = document.getElementById('timeLabel');

function updateCountdown(){
  const now = Date.now();
  const diff = target - now;
  if (diff > 0){
    const days = Math.floor(diff/(1000*60*60*24));
    moonNumber.textContent = days;
    moonLabel.textContent = days === 1 ? 'nacht' : 'nachtjes';
    afterBlock.style.display = 'none';
    document.querySelector('.moon').style.display = 'flex';
    countdownLabel.textContent = 'Countdown naar 28 nov 19:30';
  } else {
    // show final celebratory block (replace moon)
    document.querySelector('.moon').style.display = 'none';
    afterBlock.style.display = 'block';
    countdownLabel.textContent = 'Vandaag!';
    clearInterval(cntInterval);
  }
}
updateCountdown();
const cntInterval = setInterval(updateCountdown, 1000);

/* -----------------------------
   Horoscopes: signs + 8 unique quotes each
   plus symbol mapping
------------------------------*/
const horoscopes = [
  {sign:"Ram", symbol:"‚ôà", color:"#d6e9c9", quotes:[
    "Je hart klopt sneller van verwachting.",
    "Je durft ‚Äî en dat maakt het spannend mooi.",
    "Een kleine daad zet een avond in beweging.",
    "Je glimlach nodigt iemand dichterbij.",
    "Vandaag straal je met zachte overgave.",
    "Laat je energie zachtjes de kamer vullen.",
    "Iemand merkt je warmte op zonder woorden.",
    "Durf te glunderen ‚Äî het past je goed."
  ]},
  {sign:"Stier", symbol:"‚ôâ", color:"#e7edd6", quotes:[
    "Comfort en smaak maken dit moment kostbaar.",
    "Een rustige aanwezigheid geeft diepe rust.",
    "Geniet van de tastbare details om je heen.",
    "Vandaag voelt nabijheid als een cadeau.",
    "Subtiele aanraking zegt meer dan menig woord.",
    "Laat je zintuigen rustig de weg wijzen.",
    "Een bekend lied roept zachte herinnering op.",
    "Eenvoudige luxe kleedt jouw momenten."
  ]},
  {sign:"Tweelingen", symbol:"‚ôä", color:"#d9efd9", quotes:[
    "Je praatjes openen kleine werelden van plezier.",
    "Humor maakt een kamer lichter en zachter.",
    "Een nieuwsgierige vraag start een hartelijk gesprek.",
    "Je woorden dansen licht in de lucht.",
    "Verrassing in taal brengt een glimlach.",
    "Laat je geest speels de avond kleuren.",
    "Korte gesprekken kunnen diepe connecties brengen.",
    "Je charme werkt als een zachte uitnodiging."
  ]},
  {sign:"Kreeft", symbol:"‚ôã", color:"#e7e6d7", quotes:[
    "Zachtheid en aandacht scheppen een thuisgevoel.",
    "Een warme blik zegt wat woorden niet hoeven.",
    "Koester kleine momenten van echte verbinding.",
    "Je zorgzame aard opent stil gedeelde ruimte.",
    "Herinneringen vinden vanavond een zachte plek.",
    "Je aanwezigheid voelt als een geruststellende omhelzing.",
    "Laat tederheid de avond verlichten.",
    "Intimiteit groeit in kleine, stille gebaren."
  ]},
  {sign:"Leeuw", symbol:"‚ôå", color:"#efe7c8", quotes:[
    "Je helderheid trekt bewondering zonder moeite.",
    "Vandaag zal je lach de kamer doen oplichten.",
    "Stralend en zacht ‚Äî je bent onmiskenbaar aanwezig.",
    "Een compliment weerkaatst jouw warme energie.",
    "Je durft te schitteren op een elegante manier.",
    "Grootsheid met tederheid is jouw stijl vandaag.",
    "Laat je hart spreken ‚Äî het klinkt als muziek.",
    "Een klein applausje kan onverwacht veel betekenen."
  ]},
  {sign:"Maagd", symbol:"‚ôç", color:"#eef3e0", quotes:[
    "Oog voor detail maakt kleine magie zichtbaar.",
    "Je zorgvuldigheid tovert orde tot rust.",
    "Subtiele perfecties geven de avond inhoud.",
    "Je praktische aanraking voelt als blijk van zorg.",
    "Nette aandacht cre√´ert warme herinnering.",
    "Stilheid met zorg kan veel liefde zeggen.",
    "Je precisie vertaalt zich in elegante momenten.",
    "Een kleine handeling oogst grote waardering."
  ]},
  {sign:"Weegschaal", symbol:"‚ôé", color:"#dfe7d2", quotes:[
    "Schoonheid en evenwicht dansen langs je heen.",
    "Een charmante opmerking opent zachte ogen.",
    "Balans brengt ruimte voor oprechte gesprekken.",
    "Je elegantie nodigt mensen uit dichtbij te komen.",
    "Rust en stijl maken vanavond memorabel.",
    "Zachte humor weeft fijne herinneringen in de tijd.",
    "Jouw eenvoud ademt een bijzondere allure.",
    "Harmonie kleurt de avond in goudtinten."
  ]},
  {sign:"Schorpioen", symbol:"‚ôè", color:"#e9e5d8", quotes:[
    "Intensiteit en zachtheid vinden elkaar bij jou.",
    "Een scherpe blik kan heel veel zeggen vandaag.",
    "Laat je diepgang zachtjes naar buiten stromen.",
    "Intieme aandacht schept onvergetelijke momenten.",
    "Een geheim gebaar heeft grote betekenis vanavond.",
    "Diepe gevoelens vertalen zich in warme daden.",
    "Laat je hart spreken ‚Äî in stilte of in woord.",
    "Passie met tederheid maakt alles eerbiedig."
  ]},
  {sign:"Boogschutter", symbol:"‚ôê", color:"#e8efd9", quotes:[
    "Avontuurlijke vonken maken de avond licht.",
    "Een onbevangen lach opent onverwachte deuren.",
    "Nieuwsgierigheid leidt tot warme verrassingen.",
    "Speelsheid nodigt anderen uit te delen.",
    "Durf te stappen; mooie herinneringen wachten.",
    "Recht door zee met een glimlach wint harten.",
    "Laat enthousiasme zacht de ruimte vullen.",
    "Een lichte grap breekt het ijs in goud."
  ]},
  {sign:"Steenbok", symbol:"‚ôë", color:"#e6e3d6", quotes:[
    "Stabiel en attent ‚Äî jouw houding raakt anderen.",
    "Doorzettingsvermogen krijgt een zachte glans vanavond.",
    "Doordachte woorden geven houvast en nabijheid.",
    "Je inzet cre√´ert waardevolle momenten.",
    "Een rustige daad blijkt groter dan verwacht.",
    "Consistentie voelt als een warm anker voor anderen.",
    "Je vastberadenheid toont zich als zorg en stijl.",
    "Met bedachtzaamheid bouw je intieme ruimte."
  ]},
  {sign:"Waterman", symbol:"‚ôí", color:"#e9f0e7", quotes:[
    "Je verrassende blik cre√´ert nieuwe mogelijkheden.",
    "Vernieuwend en vriendelijk ‚Äî een aanstekelijke mix.",
    "Durf uniek te zijn; anderen volgen je graag.",
    "Een origineel idee kan het gesprek verrijken.",
    "Jouw visie nodigt uit tot open gesprekken.",
    "Creatieve vonken kleuren de avond met plezier.",
    "Anders zijn voelt vandaag als een zachte kracht.",
    "Vreemde wendingen leiden soms tot warme momenten."
  ]},
  {sign:"Vissen", symbol:"‚ôì", color:"#edf6e9", quotes:[
    "Zacht en dromerig ‚Äî je brengt rust in het nu.",
    "Een intu√Øtieve beweging verbindt twee zielen.",
    "Dromen en realiteit vinden vanavond elkaar.",
    "Laat je verbeelding leiden naar warme herinneringen.",
    "Een kleine fantasie wordt tastbare zachtheid.",
    "Je empathie maakt nabijheid veilig en rijk.",
    "Mildheid en diepte vormen een stille belofte.",
    "Eenvoudige dromen worden vanavond kostbaar."
  ]}
];

let signIndex = 0;
const signBadge = document.getElementById('signBadge');
const signSymbol = document.getElementById('signSymbol');
const signShort = document.getElementById('signShort');
const signName = document.getElementById('signName');
const signQuoteEl = document.getElementById('signQuote');

function showSign(idx){
  signIndex = (idx + horoscopes.length) % horoscopes.length;
  const obj = horoscopes[signIndex];
  const now = new Date();
  const daySeed = now.getFullYear()*10000 + (now.getMonth()+1)*100 + now.getDate();
  const quoteIdx = (daySeed + signIndex) % obj.quotes.length;
  signSymbol.textContent = obj.symbol;
  signShort.textContent = obj.sign;
  signBadge.style.background = `linear-gradient(180deg, ${obj.color}, #fff7e6)`;
  signName.textContent = obj.sign;
  signQuoteEl.textContent = obj.quotes[quoteIdx];
}
showSign(0);
document.getElementById('nextSign').addEventListener('click', ()=> showSign(signIndex+1));
document.getElementById('prevSign').addEventListener('click', ()=> showSign(signIndex-1));
document.getElementById('randomSign').addEventListener('click', ()=> showSign(Math.floor(Math.random()*horoscopes.length)));

/* -----------------------------
   Games: memory / puzzle / sudoku 6x6
   Use bright planet/star SVG slices (nebula + gold + olive)
------------------------------*/
const gameArea = document.getElementById('gameArea');
const games = ['memory','puzzle','sudoku'];
let currentGame = 0;
document.getElementById('nextGame').addEventListener('click', ()=> setGame(currentGame+1));
document.getElementById('prevGame').addEventListener('click', ()=> setGame(currentGame-1));
document.getElementById('shuffleGame').addEventListener('click', ()=> initCurrentGame());

function setGame(i){ currentGame = ((i % games.length) + games.length) % games.length; initCurrentGame(); }
function initCurrentGame(){ const name = games[currentGame]; gameArea.innerHTML=''; if (name==='memory') initMemory(); else if (name==='puzzle') initPuzzle(); else if (name==='sudoku') initSudoku(); }

/* inline asset (brighter planet/nebula) */
const svgPlanetBright = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><defs><radialGradient id='gp' cx='30%' cy='30%'><stop offset='0' stop-color='#fff7d2'/><stop offset='1' stop-color='#ffd98a'/></radialGradient></defs><rect width='200' height='200' rx='20' fill='#f6f8f4'/><g transform='translate(12,20)'><ellipse cx='80' cy='80' rx='58' ry='40' fill='url(#gp)' stroke='#3a5236' stroke-width='3'/></g></svg>`);
const svgStarBright = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><defs><linearGradient id='gs' x1='0' x2='1'><stop offset='0' stop-color='#fffbe0'/><stop offset='1' stop-color='#ffd766'/></linearGradient></defs><rect width='200' height='200' rx='20' fill='#f5f8f3'/><g transform='translate(18,18)' fill='#2d4a2f'><path d='M54 6l13 32 33 2-25 20 7 33-31-15-31 15 7-33L1 40l33-2z'/></g></svg>`);
const svgNebulaBright = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 300'><rect width='300' height='300' fill='#071028'/><g fill-opacity='0.98'><circle cx='60' cy='80' r='16' fill='#ffd766'/><circle cx='230' cy='50' r='10' fill='#fff9e2'/><circle cx='190' cy='220' r='14' fill='#ffe6b3'/><circle cx='60' cy='220' r='8' fill='#fff8d0'/></g></svg>`);

/* --- MEMORY --- */
function initMemory(){
  const wrapper = document.createElement('div'); wrapper.style.width='100%';
  const grid = document.createElement('div'); grid.className='memory-grid';
  const pairSvgs = [
    {id:'planet', uri: svgPlanetBright},
    {id:'star', uri: svgStarBright},
    {id:'nebula', uri: svgNebulaBright},
    {id:'comet', uri: svgStarBright}
  ];
  let deck = []; pairSvgs.forEach(p=>{ deck.push(p); deck.push(p); });
  deck = deck.sort(()=>Math.random()-0.5);

  let first=null, second=null, lock=false, matches=0;
  deck.forEach((cardObj, idx)=>{
    const c = document.createElement('div'); c.className='card'; c.setAttribute('data-key', cardObj.id);
    c.addEventListener('click', ()=>{
      if(lock || c.classList.contains('revealed') || c.classList.contains('matched')) return;
      reveal(c, cardObj);
      if(!first) first={el:c,key:cardObj.id};
      else if(!second){
        second={el:c,key:cardObj.id};
        if(first.key===second.key){
          first.el.classList.add('matched'); second.el.classList.add('matched'); matches++; first=null; second=null;
          if(matches===pairSvgs.length){
            const done=document.createElement('div'); done.textContent='üéâ Gefeliciteerd ‚Äî match compleet!'; done.style.marginTop='8px'; done.style.fontWeight=700; wrapper.appendChild(done);
          }
        } else {
          lock=true; setTimeout(()=>{ hideCard(first.el); hideCard(second.el); first=null; second=null; lock=false; }, 900);
        }
      }
    });
    grid.appendChild(c);
  });
  wrapper.appendChild(grid);
  const info = document.createElement('div'); info.style.fontSize='13px'; info.style.color='#cfcfbf'; info.style.marginTop='8px';
  info.textContent='Memory ‚Äî zoek de paren (heldere planeten & sterren).';
  wrapper.appendChild(info);
  gameArea.appendChild(wrapper);

  function reveal(el, cardObj){
    el.classList.add('revealed');
    const img = document.createElement('div'); img.style.width='100%'; img.style.height='100%'; img.style.display='flex'; img.style.alignItems='center'; img.style.justifyContent='center';
    img.innerHTML = `<img src="data:image/svg+xml;utf8,${cardObj.uri}" style="width:94%;height:94%;object-fit:contain;border-radius:8px">`;
    el.innerHTML=''; el.appendChild(img);
  }
  function hideCard(el){ el.classList.remove('revealed'); el.innerHTML=''; }
}

/* --- SLIDING PUZZLE 3x3 --- */
function initPuzzle(){
  const wrapper = document.createElement('div');
  const board = document.createElement('div'); board.className='puzzle-board';
  const size = 3; const total = size*size;
  const imgUrl = `data:image/svg+xml;utf8,${svgPlanetBright}`;
  let tiles = Array.from({length:total}, (_,i)=>i);
  function shuffleTiles(){ do { tiles = tiles.sort(()=>Math.random()-0.5); } while(!isSolvable(tiles)); if(tiles[tiles.length-1]!==total-1){ const idx=tiles.indexOf(total-1); tiles.splice(idx,1); tiles.push(total-1); } }
  function isSolvable(arr){ const a=arr.filter(v=>v!==total-1); let inv=0; for(let i=0;i<a.length;i++) for(let j=i+1;j<a.length;j++) if(a[i]>a[j]) inv++; return inv%2===0; }
  shuffleTiles();
  function render(){ board.innerHTML=''; for(let i=0;i<total;i++){ const v=tiles[i]; const tile=document.createElement('div'); if(v===total-1){ tile.className='tile empty'; tile.style.background='linear-gradient(180deg,#f9fbfa,#eef6f0)'; } else { tile.className='tile'; const col=v%size, row=Math.floor(v/size); const bgW=300, bgH=300; const posX = - (col*(bgW/size)), posY = - (row*(bgH/size)); tile.style.backgroundImage = `url("${imgUrl}")`; tile.style.backgroundPosition = `${posX}px ${posY}px`; tile.style.backgroundSize = `${bgW}px ${bgH}px`; } tile.addEventListener('click', ()=> tryMove(i)); board.appendChild(tile);} }
  function tryMove(index){ const emptyIdx = tiles.indexOf(total-1); const r1=Math.floor(index/size), c1=index%size; const r2=Math.floor(emptyIdx/size), c2=emptyIdx%size; const manhattan = Math.abs(r1-r2)+Math.abs(c1-c2); if(manhattan===1){ [tiles[index], tiles[emptyIdx]]=[tiles[emptyIdx], tiles[index]]; render(); if(isSolved()){ const done=document.createElement('div'); done.textContent='‚ú® Puzzel compleet! ‚ú®'; done.style.marginTop='10px'; done.style.fontWeight=700; wrapper.appendChild(done); } } }
  function isSolved(){ for(let i=0;i<total;i++) if(tiles[i]!==i) return false; return true; }
  render(); wrapper.appendChild(board);
  const hint = document.createElement('div'); hint.style.fontSize='13px'; hint.style.color='#cfcfbf'; hint.style.marginTop='8px'; hint.textContent='Schuifpuzzel ‚Äî herken planeten-delen en schuif ze op hun plek.'; wrapper.appendChild(hint);
  const controls = document.createElement('div'); controls.style.display='flex'; controls.style.gap='8px'; controls.style.marginTop='8px';
  const btnShuffle = document.createElement('button'); btnShuffle.className='btn'; btnShuffle.textContent='Schud'; btnShuffle.addEventListener('click', ()=>{ shuffleTiles(); render(); });
  controls.appendChild(btnShuffle); wrapper.appendChild(controls); gameArea.appendChild(wrapper);
}

/* --- SUDOKU 6x6 (2x3 boxes) --- */
function initSudoku(){
  const wrapper = document.createElement('div'); wrapper.style.width='100%'; wrapper.style.display='flex'; wrapper.style.flexDirection='column'; wrapper.style.alignItems='center';
  const title = document.createElement('div'); title.textContent='Sudoku (6√ó6) ‚Äî vul de lege vakjes'; title.style.fontWeight='700'; wrapper.appendChild(title);

  const N = 6;
  const boxR = 2; // boxes are 2 rows x 3 cols
  const boxC = 3;

  let solution = Array.from({length:N}, ()=>Array(N).fill(0));

  function isSafe(grid, r, c, val){
    for(let i=0;i<N;i++) if(grid[r][i]===val) return false;
    for(let i=0;i<N;i++) if(grid[i][c]===val) return false;
    const startR = r - (r % boxR);
    const startC = c - (c % boxC);
    for(let i=0;i<boxR;i++) for(let j=0;j<boxC;j++) if(grid[startR+i][startC+j]===val) return false;
    return true;
  }

  function fillGrid(grid){
    for(let r=0;r<N;r++){
      for(let c=0;c<N;c++){
        if(grid[r][c]===0){
          const nums = [1,2,3,4,5,6].sort(()=>Math.random()-0.5);
          for(const v of nums){
            if(isSafe(grid,r,c,v)){
              grid[r][c]=v;
              if(fillGrid(grid)) return true;
              grid[r][c]=0;
            }
          }
          return false;
        }
      }
    }
    return true;
  }
  fillGrid(solution);

  function makePuzzle(sol, clues=18){
    let puzzle = sol.map(r=>r.slice());
    const cells=[];
    for(let r=0;r<N;r++) for(let c=0;c<N;c++) cells.push([r,c]);
    cells.sort(()=>Math.random()-0.5);
    let removed=0;
    for(const [r,c] of cells){
      if ((N*N - removed) <= clues) break;
      puzzle[r][c]=0; removed++;
    }
    return puzzle;
  }

  let puzzle = makePuzzle(solution, 18);

  // render grid
  const gridEl = document.createElement('div'); gridEl.className='sudoku-grid'; gridEl.style.marginTop='8px';
  const cellsEls = [];
  for(let r=0;r<N;r++){
    for(let c=0;c<N;c++){
      const wrap = document.createElement('div'); wrap.className='sudoku-cell';
      const val = puzzle[r][c];
      if(val!==0){
        wrap.classList.add('prefilled'); wrap.textContent = val;
      } else {
        const input = document.createElement('input'); input.type='number'; input.min=1; input.max=6; input.setAttribute('inputmode','numeric');
        input.addEventListener('input', ()=> { if(input.value) input.value = input.value.replace(/[^1-6]/g,'').slice(0,1); });
        wrap.appendChild(input);
      }
      gridEl.appendChild(wrap); cellsEls.push(wrap);
    }
  }
  wrapper.appendChild(gridEl);

  // controls
  const ctrls = document.createElement('div'); ctrls.className='sudoku-controls';
  const btnCheck = document.createElement('button'); btnCheck.className='btn'; btnCheck.textContent='Controleer';
  const btnHint = document.createElement('button'); btnHint.className='btn'; btnHint.textContent='Hint';
  const btnNew = document.createElement('button'); btnNew.className='btn'; btnNew.textContent='Nieuw';
  const status = document.createElement('div'); status.style.marginTop='8px'; status.style.fontWeight='700';

  btnCheck.addEventListener('click', ()=>{
    let correct=true; let allFilled=true;
    for(let r=0;r<N;r++){
      for(let c=0;c<N;c++){
        const idx = r*N + c; const cell = cellsEls[idx];
        if (puzzle[r][c] !== 0){
          if (solution[r][c] !== puzzle[r][c]) correct=false;
        } else {
          const inp = cell.querySelector('input'); const v = inp.value ? Number(inp.value) : 0;
          if (!v) { allFilled=false; correct=false; cell.style.background='#fff2f2'; }
          else if (v !== solution[r][c]) { correct=false; cell.style.background='#fff2f2'; }
          else { cell.style.background='#e9f7ee'; }
        }
      }
    }
    if (correct && allFilled) { status.textContent = 'üéâ Compleet en correct!'; status.style.color='#1b6e3a'; }
    else if (!allFilled) { status.textContent = 'Vul alle vakken in (of gebruik een hint).'; status.style.color='#6b3b3b'; }
    else { status.textContent = 'Er staan nog fouten ‚Äî zoek ze even.'; status.style.color='#6b3b3b'; }
  });

  btnHint.addEventListener('click', ()=>{
    const empties=[];
    for(let r=0;r<N;r++) for(let c=0;c<N;c++) if (puzzle[r][c]===0){
      const idx = r*N+c; const cell = cellsEls[idx]; const inp = cell.querySelector('input');
      if (inp && (!inp.value || inp.value==='')) empties.push({r,c,idx});
    }
    if (empties.length===0){ status.textContent='Geen lege vakken meer voor hint.'; return; }
    const pick = empties[Math.floor(Math.random()*empties.length)]; const idx=pick.idx; const cell=cellsEls[idx]; const inp=cell.querySelector('input');
    inp.value = solution[pick.r][pick.c]; cell.style.background='#e9f7ee'; status.textContent='Hint geplaatst.';
  });

  btnNew.addEventListener('click', ()=>{
    solution = Array.from({length:N}, ()=>Array(N).fill(0)); fillGrid(solution);
    puzzle = makePuzzle(solution, 16 + Math.floor(Math.random()*6));
    for(let r=0;r<N;r++){
      for(let c=0;c<N;c++){
        const idx = r*N+c; const cell = cellsEls[idx]; cell.innerHTML=''; cell.classList.remove('prefilled'); cell.style.background='';
        if (puzzle[r][c] !== 0){ cell.classList.add('prefilled'); cell.textContent = puzzle[r][c]; }
        else { const input = document.createElement('input'); input.type='number'; input.min=1; input.max=6; input.setAttribute('inputmode','numeric'); input.addEventListener('input', ()=> { if(input.value) input.value = input.value.replace(/[^1-6]/g,'').slice(0,1);}); cell.appendChild(input); }
      }
    }
    status.textContent='Nieuwe sudoku gegeneerd.';
  });

  ctrls.appendChild(btnCheck); ctrls.appendChild(btnHint); ctrls.appendChild(btnNew);
  wrapper.appendChild(ctrls); wrapper.appendChild(status);
  gameArea.appendChild(wrapper);
}

/* init first game */
initCurrentGame();

/* auto-rotate games every 35s */
let autoRotate = setInterval(()=> setGame(currentGame+1), 35000);
['nextGame','prevGame','shuffleGame','gameArea'].forEach(id=>{
  document.getElementById(id)?.addEventListener?.('click', ()=> {
    clearInterval(autoRotate);
    setTimeout(()=> { autoRotate = setInterval(()=> setGame(currentGame+1), 35000); }, 60000);
  });
});

/* Keyboard shortcuts */
document.addEventListener('keydown', (e)=>{
  if (e.key === 'ArrowRight') { setGame(currentGame+1); }
  if (e.key === 'ArrowLeft') { setGame(currentGame-1); }
  if (e.key === 'ArrowUp') { showSign(signIndex-1); }
  if (e.key === 'ArrowDown') { showSign(signIndex+1); }
});
</script>
</body>
</html>
