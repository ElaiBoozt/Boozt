<!-- Dit is een commentaar -->

<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Glunder</title>

<style>

body {
    margin: 0;
    padding: 0;
    background: #1a1712;
    font-family: "Cormorant Garamond", serif;
    color: #efe7d8;
    text-align: center;
}

h1 {
    margin-top: 35px;
    font-size: 42px;
    font-weight: 700;
    letter-spacing: 1px;
}

.section {
    margin: 40px auto;
    max-width: 520px;
    padding: 20px 25px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.18);
    border-radius: 20px;
    backdrop-filter: blur(4px);
}

.game-title {
    font-size: 34px;
    margin-bottom: 22px;
    font-weight: 700;
    font-style: italic;
    color: #e5d9bf;
}

/* COUNTDOWN */
#countdown-container {
    position: relative;
    width: 260px;
    height: 260px;
    margin: 0 auto;
}

#countdown-container img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    filter: brightness(1.25) contrast(1.1);
}

#countdown-number {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 78px;
    font-weight: 900;
    color: #1a2d14;
    text-shadow: 0 0 20px rgba(255,255,200,0.7);
}

/* Sudoku */
#sudoku {
    margin: 0 auto;
    border: 3px solid #d8c79e;
    width: 360px;
    display: grid;
    grid-template-columns: repeat(6, 1fr);
}

.sudoku-cell {
    width: 100%;
    height: 54px;
    text-align: center;
    font-size: 28px;
    border: 1px solid #d8c79e;
    background: rgba(255,255,255,0.12);
    color: #f0e7d4;
}

.sudoku-cell[readonly] {
    background: rgba(216,199,158,0.32);
    font-weight: 700;
}

/* bloklijnen */
.sudoku-cell:nth-child(6n+1) { border-left: 3px solid #d8c79e; }
.sudoku-cell:nth-child(n+19) { border-top: 3px solid #d8c79e; }

/* MEMORY */
.memory-grid {
    width: 300px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
}

.memory-card {
    width: 70px;
    height: 70px;
    background: #2d2b25;
    border: 1px solid #d8c79e;
    border-radius: 10px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.45s ease;
}

.memory-card.flip {
    transform: rotateY(180deg);
}

.memory-front,
.memory-back {
    width: 100%;
    height: 100%;
    border-radius: 10px;
    position: absolute;
    backface-visibility: hidden;
}

.memory-back {
    background: linear-gradient(135deg, #c7b38a, #e8dbc0);
    transform: rotateY(180deg);
}

/* Schuifpuzzel */
#puzzle-board {
    width: 310px;
    height: 310px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(3,1fr);
    grid-template-rows: repeat(3,1fr);
    gap: 2px;
}

.puzzle-tile {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    border-radius: 6px;
}

.puzzle-empty {
    background: rgba(255,255,255,0.1);
}

/* solved effect */
.solved-glow {
    animation: solvedGlow 2s ease-in-out forwards;
}

@keyframes solvedGlow {
    0% { box-shadow: 0 0 0px gold; }
    100% { box-shadow: 0 0 28px gold; }
}

/* MOBILE */
@media(max-width:520px){
    #sudoku { width: 300px; }
    .sudoku-cell { height: 45px; font-size: 22px; }
    #countdown-container { width: 220px; height: 220px; }
    #countdown-number { font-size: 66px; }
}

</style>
</head>
<body>

<h1>Glunder Aftelmoment ‚ú®</h1>

<div class="section">
    <div id="countdown-container">
        <img src="supermoon.png">
        <div id="countdown-number">0</div>
    </div>

    <div style="margin-top:15px; font-size:22px; font-weight:500;">
        Nog even wachten lieve Glunder üåô
    </div>

    <div id="special-final-lines" style="display:none; margin-top:20px; font-size:32px; font-weight:700; font-style:italic;">
        Vandaag is het eindelijk zover!<br>
        <span style="font-size:22px;">Vandaag weer samen<br>Vandaag dichtbij, Glunder üßúüèª‚Äç‚ôÄÔ∏è‚ú®</span>
    </div>
</div>

<!-- MEMORY -->
<div class="section">
    <div class="game-title"><i><b>Glunder Memory</b></i></div>

    <div id="memory-grid" class="memory-grid"></div>

    <div id="memory-solved" style="display:none; margin-top:18px; font-size:24px;">
        ‚ú® Je hebt alle kaarten gevonden! Nieuwe ronde start‚Ä¶ ‚ú®
    </div>
</div>

<script>
// ------------------ COUNTDOWN ------------------
function updateCountdown() {
    const today = new Date();
    const target = new Date("2024-11-28T19:30:00");

    const diff = target - today;
    const nights = Math.ceil(diff / (1000 * 60 * 60 * 24));

    const number = document.getElementById("countdown-number");
    const finalText = document.getElementById("special-final-lines");

    if (today >= target) {
        number.textContent = "0";
        finalText.style.display = "block";
    } else {
        number.textContent = nights;
        finalText.style.display = "none";
    }
}
setInterval(updateCountdown, 1000);
updateCountdown();

// ------------------ MEMORY GAME ------------------

const memoryImages = [
    "supermoon.png",
    "memory_sun.png",
    "memory_moon.png",
    "memory_venus.png",
    "docs/memory_saturn_png.jpg",
];

let memoryCards = [];
let lockBoard = false;
let firstCard, secondCard;

function shuffleMemory() {
    const grid = document.getElementById("memory-grid");
    grid.innerHTML = "";

    const doubled = [...memoryImages, ...memoryImages];
    doubled.sort(() => Math.random() - 0.5);

    memoryCards = [];

    doubled.forEach(img => {
        const card = document.createElement("div");
        card.classList.add("memory-card");

        const front = document.createElement("img");
        front.classList.add("memory-front");
        front.src = img;

        const back = document.createElement("div");
        back.classList.add("memory-back");

        card.appendChild(front);
        card.appendChild(back);

        card.dataset.image = img;
        card.addEventListener("click", flipCard);

        memoryCards.push(card);
        grid.appendChild(card);
    });
}

function flipCard() {
    if (lockBoard) return;
    if (this === firstCard) return;

    this.classList.add("flip");

    if (!firstCard) {
        firstCard = this;
        return;
    }

    secondCard = this;
    checkMemoryMatch();
}

function checkMemoryMatch() {
    lockBoard = true;

    const match = firstCard.dataset.image === secondCard.dataset.image;

    if (match) {
        firstCard.removeEventListener("click", flipCard);
        secondCard.removeEventListener("click", flipCard);

        resetMemoryTurn();
        checkMemoryWin();
    } else {
        setTimeout(() => {
            firstCard.classList.remove("flip");
            secondCard.classList.remove("flip");
            resetMemoryTurn();
        }, 900);
    }
}

function resetMemoryTurn() {
    [firstCard, secondCard, lockBoard] = [null, null, false];
}

function checkMemoryWin() {
    if (memoryCards.every(card => card.classList.contains("flip"))) {
        document.getElementById("memory-solved").style.display = "block";

        setTimeout(() => {
            document.getElementById("memory-solved").style.display = "none";
            shuffleMemory();
        }, 2500);
    }
}

shuffleMemory();
</script>

<!-- SCHUIFPUZZEL -->
<div class="section">
    <div class="game-title"><i><b>Glunder Schuifpuzzel</b></i></div>

    <div id="slider-container">
        <div id="slider-grid" class="slider-grid"></div>
    </div>

    <div id="slider-solved" style="display:none; margin-top:18px; font-size:24px;">
        ‚ú® Puzzel opgelost! Nieuwe afbeelding wordt geladen‚Ä¶ ‚ú®
    </div>
</div>

<script>

// ---------------- SLIDING PUZZLE ----------------

const sliderImages = [
    "docs/supermoon.png",
    "docs/memory_venus.png",
    "docs/memory_sun.png",
    "docs/memory_saturn_png.jpg"
];

let currentSliderIndex = 0;
let tiles = [];
let emptyIndex = 15; // position of the ‚Äúempty‚Äù tile in a 4√ó4 grid

function loadSlidingPuzzle() {
    const grid = document.getElementById("slider-grid");
    grid.innerHTML = "";
    tiles = [];

    const img = sliderImages[currentSliderIndex];

    let positions = [...Array(15).keys()].sort(() => Math.random() - 0.5);

    emptyIndex = 15;

    for (let i = 0; i < 16; i++) {
        const tile = document.createElement("div");
        tile.classList.add("slider-tile");

        if (i === 15) {
            tile.classList.add("empty-tile");
            tiles.push(tile);
            grid.appendChild(tile);
            continue;
        }

        const p = positions[i];

        tile.style.backgroundImage = `url(${img})`;

        const x = p % 4;
        const y = Math.floor(p / 4);
        tile.style.backgroundPosition = `-${x * 100}px -${y * 100}px`;

        tile.dataset.correct = p;
        tile.dataset.index = i;

        tile.addEventListener("click", () => slideTile(i));

        tiles.push(tile);
        grid.appendChild(tile);
    }
}

function slideTile(i) {
    if (!isAdjacent(i, emptyIndex)) return;

    const tile = tiles[i];
    const empty = tiles[emptyIndex];

    [tile.style.backgroundImage, empty.style.backgroundImage] =
        [empty.style.backgroundImage, tile.style.backgroundImage];

    [tile.style.backgroundPosition, empty.style.backgroundPosition] =
        [empty.style.backgroundPosition, tile.style.backgroundPosition];

    [tile.dataset.correct, empty.dataset.correct] =
        [empty.dataset.correct, tile.dataset.correct];

    empty.classList.remove("empty-tile");
    tile.classList.add("empty-tile");

    emptyIndex = i;

    checkSlidingSolved();
}

function isAdjacent(a, b) {
    const ax = a % 4, ay = Math.floor(a / 4);
    const bx = b % 4, by = Math.floor(b / 4);
    return Math.abs(ax - bx) + Math.abs(ay - by) === 1;
}

function checkSlidingSolved() {
    const correct = tiles.every((t, i) => {
        if (i === 15) return true;
        return Number(t.dataset.correct) === i;
    });

    if (correct) {
        const solvedBox = document.getElementById("slider-solved");
        solvedBox.style.display = "block";

        tiles.forEach(t => t.style.boxShadow = "0 0 18px gold");

        setTimeout(() => {
            solvedBox.style.display = "none";
            tiles.forEach(t => t.style.boxShadow = "none");

            currentSliderIndex = (currentSliderIndex + 1) % sliderImages.length;
            loadSlidingPuzzle();
        }, 2500);
    }
}

loadSlidingPuzzle();

</script>

<!-- SUDOKU -->
<div class="section">
    <div class="game-title"><i><b>Glunder Sudoku</b></i></div>

    <div id="sudoku-grid" class="sudoku-grid"></div>

    <div id="sudoku-solved" style="display:none; margin-top:18px; font-size:24px;">
        ‚ú® Sudoku opgelost! Nieuwe puzzel start‚Ä¶ ‚ú®
    </div>
</div>

<script>
// ---------------- SUDOKU ----------------

// 3 volledig geldige 6√ó6 sudoku-oplossingen
const sudokuSolutions = [
    [
        [1,2,3,4,5,6],
        [4,5,6,1,2,3],
        [2,3,1,5,6,4],
        [5,6,4,2,3,1],
        [3,1,2,6,4,5],
        [6,4,5,3,1,2]
    ],
    [
        [2,4,1,3,6,5],
        [3,6,5,2,4,1],
        [1,5,3,6,2,4],
        [4,2,6,1,5,3],
        [5,3,4,6,1,2],
        [6,1,2,5,3,4]
    ],
    [
        [3,1,6,5,4,2],
        [5,2,4,3,6,1],
        [1,6,2,4,5,3],
        [4,3,5,2,1,6],
        [6,4,1,3,2,5],
        [2,5,3,1,6,4]
    ]
];

let currentSudokuIndex = 0;

function loadSudoku() {
    const grid = document.getElementById("sudoku-grid");
    grid.innerHTML = "";

    const sol = sudokuSolutions[currentSudokuIndex];

    let puzzle = JSON.parse(JSON.stringify(sol));
    removeSudokuCells(puzzle);

    for (let r=0; r<6; r++) {
        for (let c=0; c<6; c++) {
            const cell = document.createElement("input");
            cell.maxLength = 1;
            cell.classList.add("sudoku-cell");

            if (puzzle[r][c] !== 0) {
                cell.value = puzzle[r][c];
                cell.disabled = true;
                cell.classList.add("given");
            } else {
                cell.addEventListener("input", () => checkSudoku(puzzle, sol));
            }

            // visuele vakjesblokken (3√ó2)
            if (r === 2 || r === 4) cell.style.borderBottom = "3px solid #cbb78f";
            if (c === 1 || c === 3) cell.style.borderRight = "3px solid #cbb78f";

            grid.appendChild(cell);
        }
    }
}

function removeSudokuCells(puzzle) {
    let removeCount = 12; // genoeg voor 6√ó6 puzzel

    while (removeCount > 0) {
        const r = Math.floor(Math.random()*6);
        const c = Math.floor(Math.random()*6);
        if (puzzle[r][c] !== 0) {
            puzzle[r][c] = 0;
            removeCount--;
        }
    }
}

function checkSudoku(puzzle, solution) {
    const cells = document.querySelectorAll("#sudoku-grid .sudoku-cell");
    let idx = 0;
    let correct = true;

    for (let r=0; r<6; r++) {
        for (let c=0; c<6; c++) {
            const cell = cells[idx];

            if (cell.disabled) {
                idx++;
                continue;
            }

            const val = parseInt(cell.value);
            if (val !== solution[r][c]) {
                correct = false;
            }
            idx++;
        }
    }

    if (correct) {
        const solvedBox = document.getElementById("sudoku-solved");
        solvedBox.style.display = "block";

        cells.forEach(c => c.style.boxShadow = "0 0 15px gold");

        setTimeout(() => {
            solvedBox.style.display = "none";
            cells.forEach(c => c.style.boxShadow = "none");

            currentSudokuIndex = (currentSudokuIndex + 1) % sudokuSolutions.length;
            loadSudoku();
        }, 2500);
    }
}

loadSudoku();

</script>

</body>
</html>
